<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cashless Eligibility Checker</title>
  <style>
    body { font-family: Arial; margin: 2rem;  color: #f0f1f3; }
    label { display: block; margin-bottom: 10px; color: #f0f1f3; }
    input { display: block; margin-bottom: 10px; color: #010610; }
    .result { margin-top: 20px; font-weight: bold; color: #f0f1f3; }
 
    body {
      background-image: url("Images/family_image.jpg"); /* Replace with your image path */
      background-repeat: no-repeat; /* Prevents the image from repeating */
      background-size: 1300px 700px; /* Scales the image to cover the entire background */
      background-attachment: fixed; /* Keeps the background fixed when scrolling */
      background-color: #f9faf9; /* Fallback background color */
      color: #110e0e; /* Default text color for contrast */
      font-family: Arial, sans-serif;
      margin: 10; /* Remove default body margin */
      height: 80vh; /* Ensure body takes full viewport height */
    }

    /* Styles for your content */
    h2 {
        text-align: left;
        margin-top: 50px;
        color: #f3f2f2; /* Set your desired color here (example: bright orange) */
    }

    p {
        text-align: left;
        font-size: 1.2em;
    }

    a {
        color: #f0f1f3; /* Example link color */
        text-decoration: none;
    }

    a:hover {
        text-decoration: underline;
    }

  </style>
</head>
<body>

  <h2>Cashless Eligibility Checker</h2>
  <form id="eligibilityForm">
    <label>Hospital Name:
      <input type="text" id="hospital" required>
    </label>
    <label>Insurer Name:
      <input type="text" id="insurer" required>
    </label>
    <button type="submit">Check Eligibility</button>
  </form>

  <div class="result" id="resultMsg"></div>

  <script>
    document.getElementById("eligibilityForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const hospital = document.getElementById("hospital").value.trim();
      const insurer = document.getElementById("insurer").value.trim();

      fetch(`http://localhost:3001/api/eligibility?hospital=${hospital}&insurer=${insurer}`)
        .then(res => res.json())
        .then(data => {
          const resultDiv = document.getElementById("resultMsg");
          if (data.length > 0 && data[0].cashless === true) {
            resultDiv.textContent = "✅ Eligible for Cashless Treatment!";
            resultDiv.style.color = "green"; 
           
          } else if (data.length > 0) {
            resultDiv.textContent = "❌ Not Eligible for Cashless.";
            resultDiv.style.color = "red";
          } else {
            resultDiv.textContent = "No matching hospital/insurer found.";
            resultDiv.style.color = "white";
          }
        })
        .catch(err => {
          document.getElementById("resultMsg").textContent = "Error checking eligibility.";
          console.error(err);
        });
    });
    
  </script>

</body>
</html>
